{
  extends: ['config:base'],

  enabledManagers: ['circleci', 'npm', 'nvm'],
  rangeStrategy: 'bump',
  rebaseWhen: 'behind-base-branch',
  reviewersFromCodeOwners: true,

  packageRules: [
    {
      matchManagers: ['npm'],

      addLabels: ['javascript'],
      postUpdateOptions: ['yarnDedupeHighest'],
      rangeStrategy: 'bump',
    },
    {
      matchDatasources: ['docker'],

      matchPackageNames: ['cimg/node'],
      versioning: 'regex:^(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)(-(?<compatibility>.*))?$',
    },

    {
      groupName: 'datadog',
      matchManagers: ['npm'],
      matchPackagePrefixes: ['@datadog'],
    },
    {
      groupName: 'nodejs',
      matchManagers: ['circleci', 'npm', 'nvm'],
      matchPackageNames: ['cimg/node', 'node'],

      allowedVersions: '^16',
    },
    {
      groupName: 'relay',
      matchManagers: ['npm'],
      matchPackagePrefixes: [
        '@types/react-relay',
        '@types/relay',
        'babel-plugin-relay',
        'react-relay',
        'relay',
      ],
      matchSourceUrlPrefixes: [
        'https://github.com/DefinitelyTyped/DefinitelyTyped',
        'https://github.com/facebook/relay',
      ],
    },
    {
      groupName: 'stylelint',
      matchManagers: ['npm'],
      matchSourceUrlPrefixes: ['https://github.com/stylelint/'],
    },
  ],
}
